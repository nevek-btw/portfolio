---
import ExternalIcon from "../../icons/ExternalIcon.astro"

type Links = {
    href: string;
    label: string;
};

export interface Props {
    id: number;
    href: string;
    date: string;
    title: string;
    role?: string;
    description: string;
    tags: string[];
    links: Links[];
}

const project: Props = Astro.props;
---

<article class="mb-14">
    <div
        class="group relative grid transition-all sm:grid-cols-8 sm:gap-8 md:gap-4 lg:hover:!opacity-100 lg:group-hover/list:opacity-50"
    >
        <div
            class="absolute -inset-x-4 -inset-y-4 border border-transparent hover:dark:border-neutral-950 hover:border-neutral-450 z-0 hidden rounded-lg transition motion-reduce:transition-none lg:block lg:group-hover:dark:bg-neutral-800/20 lg:group-hover:bg-neutral-300/20 lg:group-hover:dark:shadow-[inset_0_1px_0_0_rgba(221, 223, 225, 0.1)] lg:group-hover:shadow-[inset_0_1px_0_0_rgba(148,163,184,0.1)] lg:group-hover:drop-shadow-lg"
        >
        </div>
        <header
            class="z-10 mb-2 mt-1 text-sm font-semibold uppercase tracking-wide dark:text-neutral-500 text-neutral-500 sm:col-span-2"
        >
            {project.date}
        </header>
        <div class="z-10 sm:col-span-6">
            <h3 class="font-medium flex flex-col gap-1 text-purple-200">
                <div>
                    <a
                        class="inline-flex items-baseline font-medium leading-tight dark:text-purple-200 text-purple-800 hover:dark:text-purple-300 hover:text-purple-800 focus-visible:text-purple-300 group/link text-lg"
                        href={project.href}
                        target="_blank"
                        rel="noreferrer"
                        aria-label={project.title}
                    >
                        <span class="inline-block font-semibold">
                            {project.title}
                            <ExternalIcon />
                        </span>
                        <span class="absolute -inset-x-3 -inset-y-3"></span>
                    </a>
                </div>
                <div>
                    <div
                        class="dark:text-purple-100/50 text-purple-900/80 font-normal"
                        aria-hidden="true"
                    >
                        {project.role}
                    </div>
                </div>
            </h3>
            <p
                class="mt-2 text-sm leading-normal dark:text-purple-50/60 text-purple-950/80 dark:text-purple-50 [&>a]:text-purple-800 dark:[&>a]:text-purple-50 dark:hover:[&>a]:text-cyan-500 hover:[&>a]:text-cyan-700"
            >
                {project.description}
            </p>
            <ul class="mt-2 flex flex-wrap" aria-label="Technologies used">
                {
                    project.tags.map((tag) => (
                        <li class="mr-1.5 mt-2">
                            <div class="flex items-center rounded-full bg-purple-400/10 px-3 py-1 text-xs font-medium leading-5 dark:text-purple-300 text-purple-900">
                                {tag}
                            </div>
                        </li>
                    ))
                }
            </ul>
        </div>
    </div>
</article>
